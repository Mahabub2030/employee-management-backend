model User {
  id                 String          @id @default(uuid())
  name               String
  email              String          @unique
  profilePhoto       String?
  password           String
  idNumber           String?
  role               UserRole        @default(GUEST)
  needPasswordChange Boolean         @default(true)
  status             EmployeeStatus  @default(ACTIVE)
  isDeleted          Boolean         @default(false)
  createdAt          DateTime        @default(now())
  updatedAt          DateTime        @updatedAt

  //                 Relations
  admin              Admin?
  superAdmin         SuperAdmin?
  hrAdmin            HrAdmin?

  // âœ… Add this relation
  authProviders      AuthProvider[]
}

// ======================
// Role Models
// ======================

model Admin {
  id             String    @id @default(uuid())
  name           String
  email          String    @unique
  password       String
  idNumber       String    @unique
  profilePhoto   String?
  changePassword Boolean   @default(true)
  isDeleted      Boolean   @default(false)
  userId         String    @unique
  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt

  user           User     @relation(fields: [userId], references: [id])
}

model SuperAdmin {
  id             String    @id @default(uuid())
  name           String
  email          String    @unique
  password       String
  idNumber       String    @unique
  profilePhoto   String?
  changePassword Boolean   @default(true)
  userId         String    @unique
  isDeleted      Boolean   @default(false)
  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt

  user           User     @relation(fields: [userId], references: [id])
}

model HrAdmin {
  id             String    @id @default(uuid())
  name           String
  email          String    @unique
  password       String
  idNumber       String    @unique
  profilePhoto   String?
  changePassword Boolean   @default(true)
  userId         String    @unique
  isDeleted      Boolean   @default(false)
  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt

  user           User     @relation(fields: [userId], references: [id])
}

// ======================
// Auth Provider Model
// ======================

model AuthProvider {
  id         String  @id @default(uuid())
  provider   String
  providerId String
  user       User   @relation(fields: [userId], references: [id])
  userId     String
}
